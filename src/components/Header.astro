---
// src/components/Header.astro
// const contactEmail = "hey@mittel.tv"; // This can be removed if not used elsewhere
---
<!-- Desktop Header Structure -->
<div class="desktop-header-nav desktop-only">
    <button type="button" id="highlights-view-btn-desktop" class="nav-button-item">Highlights</button>
    <button type="button" id="all-feed-view-btn-desktop" class="nav-button-item">Feed</button>
    <button type="button" id="overview-view-btn-desktop" class="nav-button-item">Projects</button>
    <button type="button" id="about-view-btn-desktop" class="nav-button-item">About</button>
    <button type="button" id="contact-link-desktop" class="nav-button-item">Contact</button>
</div>

<!-- Mobile Header Structure -->
<div class="mobile-header-nav mobile-only">
    <button type="button" id="hamburger-menu-btn" class="hamburger-btn" aria-label="Menu" aria-expanded="false" aria-controls="mobile-nav-panel">
        <svg class="hamburger-icon icon-open" viewBox="0 0 100 80" width="20" height="20" fill="currentColor"><rect width="100" height="15" rx="8"></rect><rect y="30" width="100" height="15" rx="8"></rect><rect y="60" width="100" height="15" rx="8"></rect></svg>
        <svg class="hamburger-icon icon-close" viewBox="0 0 100 100" width="20" height="20" fill="currentColor" style="display:none;"><line x1="20" y1="20" x2="80" y2="80" stroke="currentColor" stroke-width="15" stroke-linecap="round"/><line x1="80" y1="20" x2="20" y2="80" stroke="currentColor" stroke-width="15" stroke-linecap="round"/></svg>
    </button>
    <button type="button" id="contact-link-mobile" class="contact-btn-mobile nav-button-item">Contact</button>
</div>

<!-- Mobile Navigation Panel -->
<nav id="mobile-nav-panel" class="mobile-nav-panel mobile-only" aria-hidden="true">
    <ul>
        <li><button type="button" data-viewtarget="info" class="mobile-nav-link">Highlights</button></li>
        <li><button type="button" data-viewtarget="all-feed" class="mobile-nav-link">Feed</button></li>
        <li><button type="button" data-viewtarget="overview" class="mobile-nav-link">Projects</button></li>
        <li><button type="button" data-viewtarget="about" class="mobile-nav-link">About</button></li>
        <!-- Contact is not in the panel, it's a direct button in mobile-header-nav -->
    </ul>
</nav>

<style>
    /* Common Nav Button Item Style */
    .nav-button-item {
        padding: 2px 0; margin: 0; font-size: inherit; font-family: inherit;
        font-weight: var(--font-weight-bold); line-height: 1.3; color: inherit;
        background: none; border: none; cursor: pointer; white-space: nowrap;
        transition: color 0.2s ease;
    }
    .nav-button-item:hover,
    .nav-button-item.active { /* .active class will be managed by index.astro JS */
        color: var(--color-accent-hover-custom);
    }

    /* Desktop Header Styles */
    .desktop-header-nav {
        display: flex; justify-content: flex-start; align-items: center;
        width: 100%; height: 100%; gap: var(--spacing-lg);
    }

    .mobile-header-nav {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        justify-content: space-around;
        width: auto;
        height: 100%;
        padding: var(--spacing-xxs) 0;
        box-sizing: border-box;
    }

    .hamburger-btn {
        background: none; border: none; color: inherit;
        padding: 2px;
        cursor: pointer;
        display: flex; align-items: center; justify-content: center;
        line-height: 1;
    }
    .hamburger-btn .icon-close { display: none; }
    .hamburger-btn.is-active .icon-open { display: none; }
    .hamburger-btn.is-active .icon-close { display: block; }
    .hamburger-btn svg {
        width: 22px;
        height: 22px;
    }

    .contact-btn-mobile {
        font-size: 0.85em;
        font-weight: var(--font-weight-bold);
        line-height: 1.2;
    }

    .mobile-nav-panel {
        position: fixed; top: var(--mobile-header-height); left: 0; right: 0;
        background-color: var(--color-background); z-index: 999;
        border-bottom: var(--line-thickness-subtle) solid var(--color-border-subtle);
        padding: var(--spacing-sm) 0; max-height: calc(100vh - var(--mobile-header-height));
        overflow-y: auto; transform: translateY(-100%); visibility: hidden;
        transition: transform 0.3s ease-out, visibility 0.3s ease-out;
        display: flex;
    }
    .mobile-nav-panel.is-open { transform: translateY(0); visibility: visible; }
    .mobile-nav-panel ul { list-style: none; padding: 0; margin: 0; width: 100%; }
    .mobile-nav-panel li { margin: 0; }
    .mobile-nav-link {
        display: block; width: 100%;
        padding: var(--spacing-sm) var(--mobile-content-padding-x);
        text-align: right; font-size: 1.1em; font-weight: var(--font-weight-medium);
        color: var(--color-text-unified); background: none; border: none;
        border-bottom: var(--line-thickness-subtle) solid var(--color-border-subtle);
        cursor: pointer;
    }
    .mobile-nav-panel li:last-child .mobile-nav-link { border-bottom: none; }
    .mobile-nav-link:hover,
    .mobile-nav-link.active-menu-item {
        color: var(--color-accent-hover-custom);
        background-color: var(--color-surface-light);
    }

    .desktop-only { display: none !important; }
    .mobile-only { display: none !important; }

    @media (min-width: 769px) { /* DESKTOP */
        .desktop-only { display: flex !important; }
        .mobile-only { display: none !important; }
    }
    @media (max-width: 768px) { /* MOBILE */
        .desktop-only { display: none !important; }
        .mobile-only { display: flex !important; }
    }
</style>

<script>
  // Mailto functionality removed from here.
  // Event listeners for contact buttons will be handled in src/pages/index.astro
</script>