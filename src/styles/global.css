/* src/styles/global.css */

/* 1. CSS Reset / Normalization */
*, *::before, *::after { box-sizing: border-box; }
body, h1, h2, h3, h4, h5, h6, p, ul, ol, figure, blockquote, dl, dd { margin: 0; }
button, input, textarea, select { font: inherit; margin: 0; }
ul, ol { padding: 0; /* list-style: none; */ } /* Keep user's choice for list-style */
img, video, picture, svg { display: block; max-width: 100%; height: auto; }
a { color: inherit; text-decoration: none; }
button { background: none; border: none; padding: 0; cursor: pointer; color: inherit; }

/* 2. CSS Custom Properties (Variables) */
:root {
  --font-family-unified: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --font-size-desktop-unified: clamp(0.9rem, 0.7rem + 0.2vw, 1rem);
  --font-size-mobile-content-responsive: clamp(0.85rem, 0.75rem + 0.3vw, 1.0rem);
  --font-size-mobile-header-responsive: clamp(1.1rem, 0.9rem + 0.6vw, 1.3rem);
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;
  --font-weight-unified: var(--font-weight-regular); 
  --line-height-unified: 1.6;
  --color-text-unified: #ccc;
  --color-background: #000000;
  --color-header-bg: #111111;
  --color-border: #555555;
  --line-thickness: 2px;
  --color-text-secondary: #aaa;
  --color-border-light: #444;
  --border-radius-sm: 4px;
  --color-background-muted: #1a1a1a;
  --color-surface-light: #2a2a2a;
  --color-surface-light-hover: #383838;
  --color-text-unified-rgb: 204, 204, 204; 
  --color-accent: #e70221;
  --color-text-hover: var(--color-accent);
  --spacing-unit: 1rem;
  --spacing-xxs: calc(0.25 * var(--spacing-unit));
  --spacing-xs: calc(0.5 * var(--spacing-unit));
  --spacing-sm: calc(0.75 * var(--spacing-unit));
  --spacing-md: var(--spacing-unit);
  --spacing-lg: calc(1.5 * var(--spacing-unit));
  --spacing-xl: calc(2 * var(--spacing-unit));
  --spacing-xxl: calc(3 * var(--spacing-unit));
  --content-padding-x-desktop: var(--spacing-lg);
  --content-padding-x-mobile: var(--spacing-md);
  --column-gap-desktop: var(--spacing-lg);
  --column-gap-mobile: var(--spacing-md);
  --desktop-info-column-width: 33.33%; 
  --desktop-feed-column-width: calc(100% - var(--desktop-info-column-width)); 
}

/* 3. Core Body & Universal Text Styling */
html { scroll-behavior: smooth; }
body {
  background-color: var(--color-background);
  font-family: var(--font-family-unified);
  font-size: var(--font-size-desktop-unified);
  font-weight: var(--font-weight-unified);
  line-height: var(--line-height-unified);
  color: var(--color-text-unified);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative; /* For potential absolute/fixed children positioning relative to body */
}

h1, h2, h3, h4, h5, h6 {
  font-weight: var(--font-weight-bold); 
  line-height: 1.3;
  margin-bottom: var(--spacing-sm);
}
h3 { font-size: 1.1em; } /* Example specific heading size */

p, li, dt, dd, span, label {
  font-weight: inherit;
  font-size: inherit;
  line-height: inherit;
  margin-bottom: var(--spacing-sm);
  text-align: justify; 
  -webkit-hyphens: auto;
  -moz-hyphens: auto; 
  -ms-hyphens: auto; 
  hyphens: auto;
  overflow-wrap: break-word; /* Prevent long strings from breaking layout */
  word-wrap: break-word; /* Legacy support */
}

li::marker {
  color: var(--color-accent);
}

.header-site-name-text { /* Example specific class, if used */
    font-weight: var(--font-weight-bold); 
}

/* 4. Basic Link & Button Hover Styling */
a:hover,
button:hover { color: var(--color-accent); }

/* MODIFIED/CONFIRMED: Active button style */
button.active { 
  color: var(--color-accent); /* Explicitly use --color-accent */
  /* You could add other active styles here, e.g., a subtle border or background */
  /* text-decoration: underline; */ /* Optional: if you want underline for active */
}
button { cursor: pointer; }

/* 5. Utility Classes */
.accent-text {
  color: var(--color-accent);
}

/* ================================== */
/* --- GLOBAL MOBILE OVERRIDES --- */
/* ================================== */
@media (max-width: 768px) {
    body {
        font-size: var(--font-size-mobile-content-responsive);
    }
}

@media (max-width: 992px) and (orientation: landscape) {
  body {
      font-size: 0.8rem; /* Adjust for landscape tablets/wide phones */
  }
}

/* --- Global Markdown Content Styles --- */
.markdown-content p,
.markdown-content ul,
.markdown-content ol,
.markdown-content blockquote {
    line-height: var(--line-height-unified);
    margin-bottom: var(--spacing-sm);
    /* text-align and hyphens are inherited from global p, li etc. */
    /* overflow-wrap and word-wrap are inherited from global p, li etc. */
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    line-height: 1.2;
    /* font-weight is inherited from global h1,h2 etc. */
}
/* More specific heading margin for first child if needed */
.markdown-content > *:first-child { margin-top: 0; }
.markdown-content h1:first-child,
.markdown-content h2:first-child,
.markdown-content h3:first-child,
.markdown-content h4:first-child,
.markdown-content h5:first-child,
.markdown-content h6:first-child {
    margin-top: 0;
}


.markdown-content ul,
.markdown-content ol {
    padding-left: var(--spacing-lg); /* Standard indent for lists */
    list-style: revert; /* Ensures bullets/numbers appear, respects user agent styles if not overridden */
}
.markdown-content ul { list-style-type: disc; }
.markdown-content ol { list-style-type: decimal; }
.markdown-content ul ul, .markdown-content ol ol { margin-bottom: 0; list-style-type: circle; } /* Nested lists */
.markdown-content ul ol, .markdown-content ol ul { margin-bottom: 0; }


.markdown-content li {
    margin-bottom: var(--spacing-xxs);
    /* text-align and hyphens are inherited */
}
/* If a paragraph is the ONLY child of an li, remove its bottom margin */
.markdown-content li > p:only-child {
    margin-bottom: 0;
}
/* If a paragraph is the LAST child of an li, remove its bottom margin to rely on li's margin */
.markdown-content li > p:last-child {
    margin-bottom: 0;
}


.markdown-content blockquote {
    margin-left: var(--spacing-sm);
    padding-left: var(--spacing-md);
    border-left: 3px solid var(--color-border-light);
    color: var(--color-text-secondary);
    font-style: italic;
}
.markdown-content blockquote p {
    margin-bottom: var(--spacing-xs); /* Slightly less margin for paragraphs inside blockquotes */
}

.markdown-content img {
    max-width: 100%;
    height: auto;
    display: block;
    margin-top: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-radius: var(--border-radius-sm);
    background-color: var(--color-border-light); /* Placeholder bg if image is transparent or loading */
}

.markdown-content a {
    color: var(--color-text-hover); /* Use accent color for links */
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
    overflow-wrap: break-word; /* Prevent long links from breaking layout */
}
.markdown-content a:hover {
    color: var(--color-text-unified); /* Revert to standard text color on hover, or a lighter accent */
    text-decoration: none;
}

.markdown-content hr {
    border: none;
    border-top: 1px solid var(--color-border);
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
}

.markdown-content table {
    width: 100%;
    margin-bottom: var(--spacing-md);
    border-collapse: collapse;
    border: 1px solid var(--color-border-light);
    table-layout: fixed; /* Helps with responsive tables, prevents content from expanding cells too much */
}
.markdown-content th,
.markdown-content td {
    padding: var(--spacing-xs) var(--spacing-sm);
    border: 1px solid var(--color-border-light);
    text-align: left; 
    overflow-wrap: break-word; /* Allow content in table cells to wrap */
    word-wrap: break-word;
}
.markdown-content th {
    background-color: var(--color-surface-light);
    font-weight: var(--font-weight-bold);
}

.markdown-content pre {
    background-color: var(--color-background-muted);
    padding: var(--spacing-md);
    border-radius: var(--border-radius-sm);
    overflow-x: auto; /* Allow horizontal scrolling for code blocks */
    margin-bottom: var(--spacing-md);
    font-family: 'Courier New', Courier, monospace; 
    font-size: 0.9em;
    line-height: 1.4;
}
.markdown-content code { /* Inline code */
    background-color: var(--color-background-muted);
    padding: 0.1em 0.3em;
    border-radius: var(--border-radius-sm);
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em; /* Slightly smaller than surrounding text */
    overflow-wrap: break-word; /* For long code strings not in pre */
    word-break: break-all; /* More aggressive for inline code */
}
.markdown-content pre code { /* Code inside pre shouldn't have extra padding/bg or different font settings */
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    font-size: inherit; /* Inherit from pre */
    font-family: inherit; /* Inherit from pre */
    line-height: inherit; /* Inherit from pre */
    overflow-wrap: normal; /* Let pre handle overflow */
    word-break: normal;
}

/* === Responsive IFRAMES and EMBEDS within .markdown-content === */
.markdown-content iframe,
.markdown-content video,
.markdown-content embed,
.markdown-content object {
    max-width: 100% !important; 
    width: 100% !important;    
    height: auto !important;   
    min-height: 200px; /* Minimum height for embeds like videos */
    aspect-ratio: 16 / 9;      
    display: block;            
    border: none;              
    box-sizing: border-box;    
    background-color: var(--color-background-muted); /* Placeholder background */
}

/* If an iframe/video is wrapped in a div that has an inline style for width (common from some embed codes) */
.markdown-content div[style*="width"] > iframe,
.markdown-content div[style*="width"] > video,
.markdown-content div[style*="width"] > embed,
.markdown-content div[style*="width"] > object {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important; /* Ensure inner element also scales height */
}
.markdown-content div[style*="width"] { /* Target wrapper divs with inline width */
    width: auto !important; 
    max-width: 100% !important;
    height: auto !important; /* Ensure wrapper div also scales height */
    /* The following can help if the wrapper div itself is causing aspect ratio issues */
    /* position: relative; */
    /* padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
    /* height: 0; */
    /* overflow: hidden; */
}
/* If the wrapper div has fixed height, try to override it */
.markdown-content div[style*="height"] {
    height: auto !important;
    max-height: 100vh; /* Prevent excessively tall embeds */
}
/* === END OF RESPONSIVE IFRAMES AND EMBEDS === */