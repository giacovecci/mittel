/* src/styles/global.css */

/* 1. CSS Reset / Normalization */
*, *::before, *::after { box-sizing: border-box; }
body, h1, h2, h3, h4, h5, h6, p, ul, ol, figure, blockquote, dl, dd { margin: 0; }
button, input, textarea, select { font: inherit; margin: 0; }
ul, ol { padding: 0; /* list-style: none; */ } /* Keep user's choice for list-style */
img, video, picture, svg { display: block; max-width: 100%; height: auto; }
a { color: inherit; text-decoration: none; }
button { background: none; border: none; padding: 0; cursor: pointer; color: inherit; }

/* 2. CSS Custom Properties (Variables) */
:root {
  --font-family-unified: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --font-size-desktop-unified: clamp(0.9rem, 0.7rem + 0.2vw, 1rem);
  --font-size-mobile-content-responsive: clamp(0.85rem, 0.75rem + 0.3vw, 1.0rem);
  --font-size-mobile-header-responsive: clamp(1.1rem, 0.9rem + 0.6vw, 1.3rem);
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;
  --font-weight-unified: var(--font-weight-regular);
  --line-height-unified: 1.6;
  --color-text-unified: #ccc;
  --color-background: #000000;
  --color-header-bg: #111111; /* Will likely be overridden by --color-background for headers */
  
  /* MODIFIED: Thinner, more subtle border */
  --color-border-subtle:rgba(43, 43, 43, 0.65);
  --line-thickness-subtle: 1px;
  /* Keep original border vars if used elsewhere, or deprecate if subtle is the new global */
  --color-border: var(--color-border-subtle); /* Defaulting to subtle */
  --line-thickness: var(--line-thickness-subtle); /* Defaulting to subtle */

  --color-text-secondary: #aaa;
  --color-border-light: #444; /* Used for blockquote, markdown img, etc. */
  --border-radius-sm: 4px;
  --color-background-muted: #1a1a1a;
  --color-surface-light: #2a2a2a;
  --color-surface-light-hover: #383838;
  --color-text-unified-rgb: 204, 204, 204;
  
  /* MODIFIED: New accent for hover, original accent kept for other uses if any */
  --color-accent-original: #e70221; /* Original red */
  --color-accent-hover-custom: #D8391E; /* New red for specific hovers */
  --color-accent: var(--color-accent-original); /* Default accent */
  --color-text-hover: var(--color-accent-hover-custom); /* Default hover, can be overridden */

  --spacing-unit: 1rem;
  --spacing-xxs: calc(0.25 * var(--spacing-unit));
  --spacing-xs: calc(0.5 * var(--spacing-unit));
  --spacing-sm: calc(0.75 * var(--spacing-unit));
  --spacing-md: var(--spacing-unit);
  --spacing-lg: calc(1.5 * var(--spacing-unit));
  --spacing-xl: calc(2 * var(--spacing-unit));
  --spacing-xxl: calc(3 * var(--spacing-unit));

  /* ADDED: More granular padding for "breathing room" */
  --spacing-content-side-padding: var(--spacing-xl); /* For left/right content columns */


  --content-padding-x-desktop: var(--spacing-lg); /* Original, review if --spacing-content-side-padding replaces its usage context */
  --content-padding-x-mobile: var(--spacing-md);
  --column-gap-desktop: var(--spacing-lg);
  --column-gap-mobile: var(--spacing-md);
  --desktop-info-column-width: 33.33%;
  --desktop-feed-column-width: calc(100% - var(--desktop-info-column-width));
}

/* 3. Core Body & Universal Text Styling */
html { scroll-behavior: smooth; }
body {
  background-color: var(--color-background);
  font-family: var(--font-family-unified);
  font-size: var(--font-size-desktop-unified);
  font-weight: var(--font-weight-unified);
  line-height: var(--line-height-unified);
  color: var(--color-text-unified);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
}

h1, h2, h3, h4, h5, h6 {
  font-weight: var(--font-weight-bold);
  line-height: 1.3;
  margin-bottom: var(--spacing-sm);
}
h3 { font-size: 1.1em; }

p, li, dt, dd, span, label {
  font-weight: inherit;
  font-size: inherit;
  line-height: inherit;
  margin-bottom: var(--spacing-sm);
  text-align: justify;
  -webkit-hyphens: auto;
  -moz-hyphens: auto;
  -ms-hyphens: auto;
  hyphens: auto;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

li::marker {
  color: var(--color-accent);
}

.header-site-name-text {
    font-weight: var(--font-weight-bold);
}

/* 4. Basic Link & Button Hover Styling */
/* General link hover - can be overridden by more specific rules like .markdown-content a:hover */
a:hover { color: var(--color-text-hover); } 
/* General button hover - will be specifically overridden in Header.astro */
button:hover { color: var(--color-text-hover); }


button.active {
  color: var(--color-accent); /* Or use --color-accent-hover-custom if active should match hover */
}
button { cursor: pointer; }

/* 5. Utility Classes */
.accent-text {
  color: var(--color-accent); /* Uses original accent by default */
}

/* ================================== */
/* --- GLOBAL MOBILE OVERRIDES --- */
/* ================================== */
@media (max-width: 768px) {
    body {
        font-size: var(--font-size-mobile-content-responsive);
    }
    :root {
        /* Adjust side padding for mobile if needed, or rely on component-specific padding */
        --spacing-content-side-padding: var(--spacing-lg);
    }
}

@media (max-width: 992px) and (orientation: landscape) {
  body {
      font-size: 0.8rem;
  }
}

/* --- Global Markdown Content Styles --- */
.markdown-content p,
.markdown-content ul,
.markdown-content ol,
.markdown-content blockquote {
    line-height: var(--line-height-unified);
    margin-bottom: var(--spacing-sm);
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-xs);
    line-height: 1.2;
}
.markdown-content > *:first-child { margin-top: 0; }
.markdown-content h1:first-child,
.markdown-content h2:first-child,
.markdown-content h3:first-child,
.markdown-content h4:first-child,
.markdown-content h5:first-child,
.markdown-content h6:first-child {
    margin-top: 0;
}


.markdown-content ul,
.markdown-content ol {
    padding-left: var(--spacing-lg);
    list-style: revert;
}
.markdown-content ul { list-style-type: disc; }
.markdown-content ol { list-style-type: decimal; }
.markdown-content ul ul, .markdown-content ol ol { margin-bottom: 0; list-style-type: circle; }
.markdown-content ul ol, .markdown-content ol ul { margin-bottom: 0; }


.markdown-content li {
    margin-bottom: var(--spacing-xxs);
}
.markdown-content li > p:only-child {
    margin-bottom: 0;
}
.markdown-content li > p:last-child {
    margin-bottom: 0;
}


.markdown-content blockquote {
    margin-left: var(--spacing-sm);
    padding-left: var(--spacing-md);
    border-left: 3px solid var(--color-border-light);
    color: var(--color-text-secondary);
    font-style: italic;
}
.markdown-content blockquote p {
    margin-bottom: var(--spacing-xs);
}

.markdown-content img {
    max-width: 100%;
    height: auto;
    display: block;
    margin-top: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    border-radius: var(--border-radius-sm);
    background-color: var(--color-border-light);
}

.markdown-content a {
    color: var(--color-accent-hover-custom); /* Using the new hover color for links as well, or choose original */
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
    overflow-wrap: break-word;
}
.markdown-content a:hover {
    color: var(--color-text-unified);
    text-decoration: none;
}

.markdown-content hr {
    border: none;
    border-top: 1px solid var(--color-border); /* Uses the subtle border color */
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
}

.markdown-content table {
    width: 100%;
    margin-bottom: var(--spacing-md);
    border-collapse: collapse;
    border: 1px solid var(--color-border-light);
    table-layout: fixed;
}
.markdown-content th,
.markdown-content td {
    padding: var(--spacing-xs) var(--spacing-sm);
    border: 1px solid var(--color-border-light);
    text-align: left;
    overflow-wrap: break-word;
    word-wrap: break-word;
}
.markdown-content th {
    background-color: var(--color-surface-light);
    font-weight: var(--font-weight-bold);
}

.markdown-content pre {
    background-color: var(--color-background-muted);
    padding: var(--spacing-md);
    border-radius: var(--border-radius-sm);
    overflow-x: auto;
    margin-bottom: var(--spacing-md);
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em;
    line-height: 1.4;
}
.markdown-content code {
    background-color: var(--color-background-muted);
    padding: 0.1em 0.3em;
    border-radius: var(--border-radius-sm);
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em;
    overflow-wrap: break-word;
    word-break: break-all;
}
.markdown-content pre code {
    background-color: transparent;
    padding: 0;
    border-radius: 0;
    font-size: inherit;
    font-family: inherit;
    line-height: inherit;
    overflow-wrap: normal;
    word-break: normal;
}

.markdown-content iframe,
.markdown-content video,
.markdown-content embed,
.markdown-content object {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
    min-height: 200px;
    aspect-ratio: 16 / 9;
    display: block;
    border: none;
    box-sizing: border-box;
    background-color: var(--color-background-muted);
}

.markdown-content div[style*="width"] > iframe,
.markdown-content div[style*="width"] > video,
.markdown-content div[style*="width"] > embed,
.markdown-content div[style*="width"] > object {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
}
.markdown-content div[style*="width"] {
    width: auto !important;
    max-width: 100% !important;
    height: auto !important;
}
.markdown-content div[style*="height"] {
    height: auto !important;
    max-height: 100vh;
}